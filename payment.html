<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Crown Trade Academy - Payment</title>
<style>
  body {
    font-family: 'Montserrat', sans-serif;
    background: #f9f6f2;
    color: #3a3a3a;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
  }
  .container {
    background: #e8dfd6;
    padding: 2rem 3rem;
    border-radius: 8px;
    box-shadow: 0 8px 24px rgba(200, 169, 126, 0.3);
    max-width: 420px;
    text-align: center;
  }
  h1 {
    font-family: 'Cormorant Garamond', serif;
    margin-bottom: 1.5rem;
    font-weight: 600;
  }
  .info {
    font-size: 1.1rem;
    margin-bottom: 1rem;
  }
  label {
    display: block;
    margin: 1rem 0 0.5rem;
    font-weight: 600;
  }
  input[type="file"] {
    width: 100%;
    padding: 0.3rem;
  }
  button {
    background-color: #c8a97e;
    border: none;
    color: #f9f6f2;
    padding: 1rem 2rem;
    margin-top: 1.5rem;
    font-weight: 600;
    cursor: pointer;
    font-size: 1rem;
    border-radius: 4px;
    width: 100%;
    transition: background-color 0.3s ease;
  }
  button:hover {
    background-color: #b89463;
  }
  .mpesa-number {
    font-weight: 700;
    margin-bottom: 1rem;
  }
  .success-message {
    color: green;
    font-weight: 600;
    margin-top: 1rem;
    display: none;
  }
</style>
</head>
<body>

<div class="container">
  <h1>Payment Details</h1>
  <p class="info">Please send the enrollment fee to the M-Pesa number below.</p>
  <div class="mpesa-number" id="mpesaNumber"></div>
  <p class="info" id="feeInfo"></p>

  <form id="paymentForm">
    <label for="paymentProof">Upload Payment Screenshot:</label>
    <input type="file" id="paymentProof" accept="image/*" required />
    <button type="submit">I Have Paid</button>
  </form>

  <p class="success-message" id="successMessage">Thank you for your payment. Your application is now pending approval.</p>
</div>

<script>
  const mpesaNumberEl = document.getElementById('mpesaNumber');
  const feeInfoEl = document.getElementById('feeInfo');
  const paymentForm = document.getElementById('paymentForm');
  const successMessage = document.getElementById('successMessage');

  const selectedProgram = localStorage.getItem('selectedProgram');

  if (!selectedProgram) {
    alert('No program selected. Redirecting to program selection.');
    window.location.href = 'program-selection.html';
  }

  const programDetails = {
    mentorship: {
      fee: 3000,
      mpesa: '0769968847',
    },
    referral: {
      fee: 500,
      mpesa: '0769968847',
    }
  };

  const currentProgram = programDetails[selectedProgram];

  mpesaNumberEl.textContent = `M-Pesa Number: ${currentProgram.mpesa}`;
  feeInfoEl.textContent = `Enrollment Fee: KES ${currentProgram.fee}`;

  paymentForm.addEventListener('submit', (e) => {
    e.preventDefault();

    // Simulate payment proof upload & confirmation
    const fileInput = document.getElementById('paymentProof');
    if (fileInput.files.length === 0) {
      alert('Please upload a payment screenshot.');
      return;
    }

    // Here you would normally handle file upload to your backend or storage

    // Show success message and disable the form
    successMessage.style.display = 'block';
    paymentForm.querySelector('button').disabled = true;
    paymentForm.querySelector('button').textContent = 'Waiting for Approval';

    // Optionally, you could redirect or further instructions here
  });
</script>

</body>
</html>
